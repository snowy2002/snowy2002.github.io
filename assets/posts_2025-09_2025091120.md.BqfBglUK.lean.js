import{_ as a,c as s,G as i,b as t}from"./chunks/framework.BrC0DRXd.js";const l=JSON.parse('{"title":"使用MongoDB和Netlify部署Twikoo博客评论系统的详细教程","description":"详细介绍如何使用MongoDB Atlas作为数据库，结合Netlify部署Twikoo评论系统，实现博客免费、高效的评论功能","frontmatter":{"title":"使用MongoDB和Netlify部署Twikoo博客评论系统的详细教程","filename":2025091120,"tags":["database","development"],"categories":["技术分享"],"date":"2025-09-10T00:00:00.000Z","description":"详细介绍如何使用MongoDB Atlas作为数据库，结合Netlify部署Twikoo评论系统，实现博客免费、高效的评论功能","articleGPT":["本文详细介绍了使用MongoDB Atlas和Netlify部署Twikoo评论系统的完整流程","首先需要在MongoDB Atlas创建免费集群，配置数据库用户和网络访问权限","然后通过GitHub和Netlify部署Twikoo云函数，设置环境变量连接MongoDB","最后在博客前端通过CDN引入或本地安装方式集成Twikoo评论系统","整个部署过程无需服务器，完全免费，适合个人博客使用"],"top":null,"share":true,"delete":false,"head":[["link",{"rel":"canonical","href":"https://snowy2002.github.io/posts/2025-09/2025091120"}]]},"headers":[],"relativePath":"posts/2025-09/2025091120.md","filePath":"posts/2025-09/2025091120.md","lastUpdated":1759638394000}');const e=a({name:"posts/2025-09/2025091120.md"},[["render",function(a,l,e,o,n,p){return t(),s("div",null,l[0]||(l[0]=[i('<h1 id="使用mongodb和netlify部署twikoo博客评论系统的详细教程" tabindex="-1">使用MongoDB和Netlify部署Twikoo博客评论系统的详细教程 <a class="header-anchor" href="#使用mongodb和netlify部署twikoo博客评论系统的详细教程" aria-label="Permalink to &quot;使用MongoDB和Netlify部署Twikoo博客评论系统的详细教程&quot;">​</a></h1><p>在博客系统中，评论功能是与读者互动的重要组成部分。Twikoo作为一个简洁、安全的评论系统，非常适合个人博客使用。本文将详细介绍如何使用MongoDB Atlas作为数据库，结合Netlify部署Twikoo评论系统。</p><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-label="Permalink to &quot;目录&quot;">​</a></h2><ol><li><a href="#前期准备">前期准备</a></li><li><a href="#mongodb-atlas设置">MongoDB Atlas设置</a></li><li><a href="#netlify部署">Netlify部署</a></li><li><a href="#前端配置">前端配置</a></li></ol><h2 id="前期准备" tabindex="-1">前期准备 <a class="header-anchor" href="#前期准备" aria-label="Permalink to &quot;前期准备&quot;">​</a></h2><p>在开始之前，您需要准备：</p><ul><li>GitHub账号</li><li>Netlify账号（可使用GitHub账号直接登录）</li><li>MongoDB Atlas账号（免费）</li><li>一个已经搭建好的博客网站</li></ul><h2 id="mongodb-atlas设置" tabindex="-1">MongoDB Atlas设置 <a class="header-anchor" href="#mongodb-atlas设置" aria-label="Permalink to &quot;MongoDB Atlas设置&quot;">​</a></h2><p>MongoDB Atlas是MongoDB提供的云数据库服务，提供免费套餐足够支持个人博客评论系统使用。</p><h3 id="_1-注册并创建集群" tabindex="-1">1. 注册并创建集群 <a class="header-anchor" href="#_1-注册并创建集群" aria-label="Permalink to &quot;1. 注册并创建集群&quot;">​</a></h3><ol><li><p>访问<a href="https://www.mongodb.com/cloud/atlas" target="_blank" rel="noreferrer">MongoDB Atlas官网</a>，注册账号</p></li><li><p>登录后，点击&quot;Create&quot;创建新的集群 <a class="img-fancybox" href="https://pic1.zhimg.com/v2-357b79b076196e3617fa06abdcb022e0_1440w.jpg" data-fancybox="gallery" data-caption="MongoDB Atlas创建集群"><img class="post-img" src="https://pic1.zhimg.com/v2-357b79b076196e3617fa06abdcb022e0_1440w.jpg" alt="MongoDB Atlas创建集群" loading="lazy"><span class="post-img-tip">MongoDB Atlas创建集群</span></a></p></li><li><p>选择&quot;FREE&quot;套餐（Shared Clusters）</p></li><li><p>选择云服务提供商和区域（建议选择距离您用户最近的区域）</p></li><li><p>点击&quot;Create Cluster&quot;创建集群 <a class="img-fancybox" href="https://picx.zhimg.com/v2-6442ecfeef9bc28dec0e8c5e237e67ef_1440w.jpg" data-fancybox="gallery" data-caption="MongoDB创建集群"><img class="post-img" src="https://picx.zhimg.com/v2-6442ecfeef9bc28dec0e8c5e237e67ef_1440w.jpg" alt="MongoDB创建集群" loading="lazy"><span class="post-img-tip">MongoDB创建集群</span></a></p></li></ol><h3 id="_2-配置用户名和密码-获取连接字符串" tabindex="-1">2. 配置用户名和密码，获取连接字符串 <a class="header-anchor" href="#_2-配置用户名和密码-获取连接字符串" aria-label="Permalink to &quot;2. 配置用户名和密码，获取连接字符串&quot;">​</a></h3><ol><li><p>在集群页面，点击&quot;Connect&quot; <a class="img-fancybox" href="https://pic1.zhimg.com/v2-da52f9895ca8205299581aeff19e9e5c_1440w.jpg" data-fancybox="gallery" data-caption="Connect"><img class="post-img" src="https://pic1.zhimg.com/v2-da52f9895ca8205299581aeff19e9e5c_1440w.jpg" alt="Connect" loading="lazy"><span class="post-img-tip">Connect</span></a></p></li><li><p>设置用户名和密码（请使用复杂密码并记录下来） <a class="img-fancybox" href="https://pic1.zhimg.com/v2-9c32e337d855e21cecd289d91b63419a_1440w.jpg" data-fancybox="gallery" data-caption="添加数据库用户"><img class="post-img" src="https://pic1.zhimg.com/v2-9c32e337d855e21cecd289d91b63419a_1440w.jpg" alt="添加数据库用户" loading="lazy"><span class="post-img-tip">添加数据库用户</span></a></p></li><li><p>连接方式选择Drivers <a class="img-fancybox" href="https://pic3.zhimg.com/v2-a02c2ae1d3757e96088534f14185d5ea_1440w.jpg" data-fancybox="gallery" data-caption="选择Drivers连接方式"><img class="post-img" src="https://pic3.zhimg.com/v2-a02c2ae1d3757e96088534f14185d5ea_1440w.jpg" alt="选择Drivers连接方式" loading="lazy"><span class="post-img-tip">选择Drivers连接方式</span></a></p></li><li><p>记录数据库连接字符串，请将连接字符串中的 <code>&lt;username&gt;:&lt;password&gt;</code> 修改为刚刚创建的数据库 <code>&lt;用户名&gt;:&lt;密码&gt;</code>，并且保存好这个连接字符串 <a class="img-fancybox" href="https://pica.zhimg.com/v2-26b8028d54173d1e1912d2e8fc537d92_1440w.jpg" data-fancybox="gallery" data-caption="记录数据库连接字符串"><img class="post-img" src="https://pica.zhimg.com/v2-26b8028d54173d1e1912d2e8fc537d92_1440w.jpg" alt="记录数据库连接字符串" loading="lazy"><span class="post-img-tip">记录数据库连接字符串</span></a></p></li></ol><ul><li>再次注意：</li><li>要手动替换成您设置的密码 ; 填写密码时去掉两侧的尖括号</li><li>示例 <code>mongodb+srv://username:123456@xx.com</code></li></ul><h3 id="_3-配置网络访问" tabindex="-1">3. 配置网络访问 <a class="header-anchor" href="#_3-配置网络访问" aria-label="Permalink to &quot;3. 配置网络访问&quot;">​</a></h3><ol><li>在左侧菜单选择&quot;Network Access&quot;</li><li>点击&quot;Add IP Address&quot;</li><li>为了简化部署，可以选择&quot;Allow Access from Anywhere&quot; (0.0.0.0/0)</li><li>点击&quot;Confirm&quot;确认 <a class="img-fancybox" href="/images/posts/2025-09/1120-3.png" data-fancybox="gallery" data-caption="配置网络访问"><img class="post-img" src="/images/posts/2025-09/1120-3.png" alt="配置网络访问" loading="lazy"><span class="post-img-tip">配置网络访问</span></a></li></ol><h2 id="netlify部署" tabindex="-1">Netlify部署 <a class="header-anchor" href="#netlify部署" aria-label="Permalink to &quot;Netlify部署&quot;">​</a></h2><p>Netlify提供了免费的Serverless Functions服务，非常适合部署Twikoo评论系统。</p><p><strong>注意</strong></p><ul><li><p>Netlify 部署的环境需配合 1.4.0 以上版本的 twikoo.js 使用</p></li><li><p>Netlify 免费等级（Functions Level 0）支持每月 125,000 请求次数和 100 小时函数计算时长</p></li></ul><h3 id="_1-准备部署文件" tabindex="-1">1. 准备部署文件 <a class="header-anchor" href="#_1-准备部署文件" aria-label="Permalink to &quot;1. 准备部署文件&quot;">​</a></h3><ol><li><p>申请并登录 <a href="https://app.netlify.com/" target="_blank" rel="noreferrer">Netlify</a> 账号，创建一个 <code>Team</code></p></li><li><p>打开 <a href="https://github.com/twikoojs/twikoo-netlify" target="_blank" rel="noreferrer">twikoojs/twikoo-netlify</a> 点击 <code>fork</code> 将仓库 fork 到自己的账号下</p></li></ol><h3 id="_2-部署到netlify" tabindex="-1">2. 部署到Netlify <a class="header-anchor" href="#_2-部署到netlify" aria-label="Permalink to &quot;2. 部署到Netlify&quot;">​</a></h3><ol><li><p>回到 Netlify，在 <code>Project</code> 中选择 <code>Add new project</code><a class="img-fancybox" href="/images/posts/2025-09/1120-4.png" data-fancybox="gallery" data-caption="新建项目"><img class="post-img" src="/images/posts/2025-09/1120-4.png" alt="新建项目" loading="lazy"><span class="post-img-tip">新建项目</span></a></p></li><li><p>点击 Deploy with GitHub，如果未授权 GitHub 账号，先授权，然后选择前面 fork 的 twikoo-netlify 项目 <a class="img-fancybox" href="https://twikoo.js.org/assets/netlify-2.CoU6-6Qj.png" data-fancybox="gallery" data-caption="选择fork的Github项目"><img class="post-img" src="https://twikoo.js.org/assets/netlify-2.CoU6-6Qj.png" alt="选择fork的Github项目" loading="lazy"><span class="post-img-tip">选择fork的Github项目</span></a></p></li><li><p>添加环境变量：<code>Key</code> 为<code>MONGODB_URI</code>，<code>Value</code> 输入前面记录的数据库连接字符串 <a class="img-fancybox" href="https://twikoo.js.org/assets/netlify-3.BRAuDkNv.png" data-fancybox="gallery" data-caption="添加环境变量"><img class="post-img" src="https://twikoo.js.org/assets/netlify-3.BRAuDkNv.png" alt="添加环境变量" loading="lazy"><span class="post-img-tip">添加环境变量</span></a></p></li><li><p>点击&quot;Deploy twikoo-netlify&quot;开始部署</p></li></ol><h3 id="_3-获取twikoo环境id" tabindex="-1">3. 获取Twikoo环境ID <a class="header-anchor" href="#_3-获取twikoo环境id" aria-label="Permalink to &quot;3. 获取Twikoo环境ID&quot;">​</a></h3><ol><li>部署完成后，在Netlify站点概览页面，记下您的网站URL（例如<code>https://your-site-name.netlify.app</code>）</li><li>Twikoo的环境ID为：<code>https://your-site-name.netlify.app/.netlify/functions/twikoo</code></li><li>进入 Projects overview，点击上方的链接 <a class="img-fancybox" href="/images/posts/2025-09/1120-5.png" data-fancybox="gallery" data-caption="Projects overview"><img class="post-img" src="/images/posts/2025-09/1120-5.png" alt="Projects overview" loading="lazy"><span class="post-img-tip">Projects overview</span></a><br> 如果环境配置正确，可以看到 “Twikoo 云函数运行正常” 的提示 <a class="img-fancybox" href="https://twikoo.js.org/assets/netlify-5.BSv5GDZV.png" data-fancybox="gallery" data-caption="Twikoo 云函数运行正常"><img class="post-img" src="https://twikoo.js.org/assets/netlify-5.BSv5GDZV.png" alt="Twikoo 云函数运行正常" loading="lazy"><span class="post-img-tip">Twikoo 云函数运行正常</span></a></li></ol><h2 id="前端配置" tabindex="-1">前端配置 <a class="header-anchor" href="#前端配置" aria-label="Permalink to &quot;前端配置&quot;">​</a></h2><p>现在，您需要在博客前端配置Twikoo评论系统。有两种方式可以引入Twikoo：通过CDN或本地安装。</p><h3 id="使用cdn引入" tabindex="-1">使用CDN引入 <a class="header-anchor" href="#使用cdn引入" aria-label="Permalink to &quot;使用CDN引入&quot;">​</a></h3><p>在您的博客模板中添加以下代码：</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- HTML结构 --&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;twikoo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 引入Twikoo --&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://cdn.staticfile.org/twikoo/1.6.44/twikoo.min.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 初始化Twikoo --&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  twikoo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    envId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://your-site-name.netlify.app/.netlify/functions/twikoo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 替换为您的环境ID</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    el: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#twikoo&#39;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>',31)]))}]]);export{l as __pageData,e as default};
